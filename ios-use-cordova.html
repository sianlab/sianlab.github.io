<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>코르도바 활용 블루투스 프로젝트 생성</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />

    <!-- custom.css -->
    <link rel="stylesheet" type="text/css" href="/assets/built/custom.css" />

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

    <!-- 웹폰트 추가 -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="기술 블로그" />
    <link rel="shortcut icon" href="https://simplehanlab.github.io/assets/built/images/favicon.jpg" type="image/png" />
    <link rel="canonical" href="https://simplehanlab.github.io/ios-use-cordova" />
    <meta name="referrer" content="no-referrer-when-downgrade" />

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="SimpleHan Lab" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="코르도바 활용 블루투스 프로젝트 생성" />
    <meta property="og:description" content="1. 코르도바 개발환경 설정 Cordova 개발환경 설정시 기본적으로 필요한 프로그램 목록입니다. -node.js 다운로드 node는 특별한 사유가없다면 LTS버전으로 설치합니다. -cordova npm 설치 후 터미널을 열고 sudo npm -g install cordova 설치 완료 후, cordova -v를 통해 코르도바 버전을 확인합니다. (8.1.2 버전 기준으로 작성하였으므로 구동되지 않을시 해당 버전의 코르도바로 설치합니다) 그 후" />
    <meta property="og:url" content="https://simplehanlab.github.io/ios-use-cordova" />
    <meta property="og:image" content="https://simplehanlab.github.io/assets/built/images/ios/ios-logo.png" />
    <meta property="article:publisher" content="https://www.facebook.com/" />
    <meta property="article:author" content="https://www.facebook.com/" />
    <meta property="article:published_time" content="2019-08-23T14:06:00+00:00" />
    <meta property="article:modified_time" content="2019-08-23T14:06:00+00:00" />
    <meta property="article:tag" content="xcode" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="코르도바 활용 블루투스 프로젝트 생성" />
    <meta name="twitter:description" content="1. 코르도바 개발환경 설정 Cordova 개발환경 설정시 기본적으로 필요한 프로그램 목록입니다. -node.js 다운로드 node는 특별한 사유가없다면 LTS버전으로 설치합니다. -cordova npm 설치 후 터미널을 열고 sudo npm -g install cordova 설치 완료 후, cordova -v를 통해 코르도바 버전을 확인합니다. (8.1.2 버전 기준으로 작성하였으므로 구동되지 않을시 해당 버전의 코르도바로 설치합니다) 그 후" />
    <meta name="twitter:url" content="https://simplehanlab.github.io/" />
    <meta name="twitter:image" content="https://simplehanlab.github.io/assets/built/images/ios/ios-logo.png" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="SimpleHan Lab" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="xcode" />
    <meta name="twitter:site" content="@" />
    <meta name="twitter:creator" content="@" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "SimpleHan Lab",
        "logo": "https://simplehanlab.github.io/"
    },
    "url": "https://simplehanlab.github.io/ios-use-cordova",
    "image": {
        "@type": "ImageObject",
        "url": "https://simplehanlab.github.io/assets/built/images/ios/ios-logo.png",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "https://simplehanlab.github.io/ios-use-cordova"
    },
    "description": "1. 코르도바 개발환경 설정 Cordova 개발환경 설정시 기본적으로 필요한 프로그램 목록입니다. -node.js 다운로드 node는 특별한 사유가없다면 LTS버전으로 설치합니다. -cordova npm 설치 후 터미널을 열고 sudo npm -g install cordova 설치 완료 후, cordova -v를 통해 코르도바 버전을 확인합니다. (8.1.2 버전 기준으로 작성하였으므로 구동되지 않을시 해당 버전의 코르도바로 설치합니다) 그 후"
}
    </script>

    <!-- <script type="text/javascript" src="https://demo.ghost.io/public/ghost-sdk.min.js?v=724281a32e"></script>
    <script type="text/javascript">
    ghost.init({
    	clientId: "ghost-frontend",
    	clientSecret: "f84a07a72b17"
    });
    </script> -->

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="코르도바 활용 블루투스 프로젝트 생성" href="/feed.xml" />


</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="https://simplehanlab.github.io/">SimpleHan Lab</a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/category/react/">react</a></li>
    <li class="nav-python" role="menuitem"><a href="/category/spring/">spring</a></li>
    <li class="nav-java" role="menuitem"><a href="/category/ios/">ios</a></li>
    <li class="nav-jekyll" role="menuitem"><a href="/category/jekyll/">jekyll</a></li>
    <li class="nav-python" role="menuitem"><a href="/category/minimal-mistakes/">minimal-mistakes</a></li>
    <li class="nav-python" role="menuitem"><a href="/category/ssl/">ssl</a></li>
    <li class="nav-python" role="menuitem"><a href="/category/tensorflow/">tensorflow</a></li>
    <li class="nav-python" role="menuitem"><a href="/category/ssh/">ssh</a></li>
    <li class="nav-archive" role="menuitem">
        <a href="/archive.html">All Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/categories.html">카테고리별 Posts</a>
    </li>
    <li class="nav-archive" role="menuitem">
        <a href="/author_archive.html">Tag별 Posts</a>
    </li>
</ul>
        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Search</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-xcode tag-cordova tag-ble tag-ios  ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime="23 August 2019">23 August 2019</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                            <a href='/category/ios/'>IOS</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">코르도바 활용 블루투스 프로젝트 생성</h1>
            </header>

            <!--
            
            <figure class="post-full-image" style="background-image: url(/assets/built/images/ios/ios-logo.png)">
            </figure>
            
            -->

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <h3 id="1-코르도바-개발환경-설정">1. 코르도바 개발환경 설정</h3>

<p>Cordova 개발환경 설정시 기본적으로 필요한 프로그램 목록입니다.
  -<a href="https://nodejs.org/en/" target="_blank">node.js 다운로드</a> node는 특별한 사유가없다면 LTS버전으로 설치합니다.
	-cordova
  npm 설치 후 터미널을 열고</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">  sudo npm -g install cordova
</span></code></pre></div></div>

<p>설치 완료 후, cordova -v를 통해 코르도바 버전을 확인합니다. 
  (8.1.2 버전 기준으로 작성하였으므로 구동되지 않을시 해당 버전의 코르도바로 설치합니다)
  그 후 ios 시뮬레이터를 호출할 수 있는 ios-sim을 설치합니다.</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">  sudo npm -g install ios-sim
</span></code></pre></div></div>

<p>이후 새로운 코르도바 프로젝트를 만들고자 할 경우 프로젝트를 생성하고자하는 경로에서 ios플랫폼이 있는 코르도바 프로젝트를 생성할 수 있습니다.</p>

<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">  cordova create example com.example.test “TestExample”
  cd example
  cordova platform add ios
  cordova prepare  // or cordova build
</span></code></pre></div></div>

<p>필요한 plugin의 설치 및 삭제는 다음 명령어로 가능합니다.</p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">  cordova plugin add (삭제는 remove) [Plugin Name]
</span></code></pre></div></div>

<h3 id="2-webview와-내부-메소드-연동방법-javascript-호출">2. WebView와 내부 메소드 연동방법 (javascript 호출)</h3>

<p>내부 plugines 폴더 내부에 new file을 통해 objectve-c 파일을 생성합니다.
  (Subclass of는 CDVPlugin 을 참조하도록 설정후 원하는 class name을 설정후 objectve-c를 선택합니다.)
  그렇다면 설정한 classname.h 와 classname.m 파일이 생성 될 것이며, 
  우선 h 파일을 열어 코드를 수정합니다. (MGPluginEcho 으로 생성됨)</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#Import &lt;Cordova/CDV.h&gt;
</span>  <span class="err">@</span><span class="n">Interface</span> <span class="n">MGPluginEcho</span><span class="o">:</span> <span class="n">CDVPlugin</span>
  <span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">echo</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="err">@</span><span class="n">end</span>
</code></pre></div></div>

<p>다음은 m파일입니다.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="cp">#Import “MGPluginEcho.h”
</span>  <span class="err">@</span><span class="n">Implementation</span> <span class="n">MGPluginEcho</span>
  <span class="o">-</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">echo</span><span class="o">:</span> <span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span> <span class="p">{</span>
    <span class="n">NSString</span><span class="o">*</span> <span class="n">message</span> <span class="o">=</span> <span class="p">[</span><span class="n">command</span><span class="p">.</span><span class="n">arguments</span> <span class="n">objectAtindex</span><span class="o">:</span><span class="mi">0</span><span class="p">];</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="err">@”</span><span class="n">message</span> <span class="o">:</span> <span class="o">%</span><span class="err">@”</span><span class="p">,</span> <span class="n">messaage</span><span class="p">);</span>
    <span class="p">[[[</span><span class="n">UIAlertView</span> <span class="n">alloc</span><span class="p">]</span>
      <span class="nl">InitWithTitle:</span><span class="err">@”네이티브팝업창”</span>
      <span class="nl">message:</span><span class="n">message</span>
      <span class="nl">delegate:</span> <span class="n">nil</span>
      <span class="nl">CancelButtonTitle:</span><span class="err">@”취소”</span>
      <span class="nl">OtherButtonTitles:</span><span class="err">@”확인”</span><span class="p">,</span><span class="n">nil</span><span class="p">]</span><span class="n">show</span><span class="p">];</span>
    <span class="p">}</span>
  <span class="err">@</span><span class="n">End</span>
</code></pre></div></div>

<p>여기까지가 native에서 생성가능 한 코드이며, 이후 javascript에서 사용 가능하도록 연동해야합니다. 우선 config.xml 내부에 추가하여 연동하는 방법입니다.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;feature</span> <span class="na">name=</span><span class="s">"MGPluginEcho"</span><span class="nt">&gt;</span>
	  <span class="nt">&lt;param</span> <span class="na">name=</span><span class="s">"ios-package"</span> <span class="na">value=</span><span class="s">"MGPluginEcho"</span> <span class="nt">/&gt;</span>
  <span class="nt">&lt;/feature&gt;</span>
</code></pre></div></div>

<p>다음은 javascript 입니다.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">MGPluginEcho</span> <span class="p">()</span> <span class="p">{}</span>
  <span class="nx">MGPlugin</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">echo</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">(</span><span class="nx">msg</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">Cordova</span><span class="p">.</span><span class="nx">exec</span><span class="p">(</span><span class="kc">null</span><span class="p">,</span> <span class="kc">null</span><span class="p">,</span> <span class="dl">'</span><span class="s1">MGPluginEcho</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">echo</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="nx">msg</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="kd">var</span> <span class="nx">runEcho</span> <span class="o">=</span> <span class="kd">function</span> <span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">pluginEcho</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MGPluginEcho</span><span class="p">();</span>
    <span class="nx">pluginEcho</span><span class="p">.</span><span class="nx">echo</span><span class="p">(</span><span class="dl">'</span><span class="s1">javascript/native 연동 html에서 보낸 내용 나타내기</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}</span>
</code></pre></div></div>

<h3 id="3-블루투스-연결-방법">3. 블루투스 연결 방법</h3>

<p>간편한 방법으로 cordova-plugin-ble-central 하여 사용할 수 있으며, 작동원리는 위의 Native / Javascript 연동과 같습니다. 터미널에서 설치시 plugin에 ble-cental-plugin.m /h 파일이 생성됩니다. 콜백함수는 다음과 같습니다.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">scan</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">startScan</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">startScanWithOptions</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopScan</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">connect</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">disconnect</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">read</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">write</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">writeWithoutResponse</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">startNotification</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopNotification</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">isEnabled</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">isConnected</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">startStateNotifications</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">stopStateNotifications</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">onReset</span><span class="p">;</span>
  <span class="o">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="n">readRSSI</span><span class="o">:</span><span class="p">(</span><span class="n">CDVInvokedUrlCommand</span> <span class="o">*</span><span class="p">)</span><span class="n">command</span><span class="p">;</span>
</code></pre></div></div>

<p>좀더 자세한 사항은 <a href="https://github.com/don/cordova-plugin-ble-central" target="_blank">git-hub</a> 를 통해 확인 가능합니다.</p>

<h3 id="4-ios백그라운드-서비스">4. iOS백그라운드 서비스</h3>

<p>iOS 백그라운드 서비스를 코르도바에서 사용하기위해 우선, 다음과 같은 플러그인을 설치합니다.</p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">  cordova plugin add cordova-custom-config
</span></code></pre></div></div>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nt">&lt;platform</span> <span class="na">name=</span><span class="s">"ios"</span><span class="nt">&gt;</span> 
    <span class="nt">&lt;config-file</span> <span class="na">parent=</span><span class="s">"UIBackgroundModes"</span> <span class="na">target=</span><span class="s">"*-Info.plist"</span><span class="nt">&gt;</span> 
      <span class="nt">&lt;array&gt;</span> <span class="nt">&lt;string&gt;</span>bluetooth-central<span class="nt">&lt;/string&gt;</span> <span class="nt">&lt;/array&gt;</span> 
    <span class="nt">&lt;/config-file&gt;</span> 
  <span class="nt">&lt;/platform&gt;</span>
</code></pre></div></div>

<p>또한 info.plist 에서 UIBackgroundModes가 활성화후, ble 통신 및 backgoround fetch를 활성화 하여 백그라운드 서비스를 정상적으로 작동 할 수 있습니다.
  구동 원리의 코드는 appDelegate 이며 코드를 통해 background 패치를 초기화 시켜 주므로 백그라운드 상태에서도 계속 사용 가능해집니다.</p>

<div class="language-c highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="o">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="n">application</span><span class="o">:</span><span class="p">(</span><span class="n">UIApplication</span><span class="o">*</span><span class="p">)</span><span class="n">application</span> <span class="n">didFinishLaunchingWithOptions</span><span class="o">:</span><span class="p">(</span><span class="n">NSDictionary</span><span class="o">*</span><span class="p">)</span><span class="n">launchOptions</span>
  <span class="p">{</span>
    <span class="n">self</span><span class="p">.</span><span class="n">viewController</span> <span class="o">=</span> <span class="p">[[</span><span class="n">MainViewController</span> <span class="n">alloc</span><span class="p">]</span> <span class="n">init</span><span class="p">];</span>
    <span class="k">return</span> <span class="p">[</span><span class="n">super</span> <span class="n">application</span><span class="o">:</span><span class="n">application</span> <span class="n">didFinishLaunchingWithOptions</span><span class="o">:</span><span class="n">launchOptions</span><span class="p">];</span>
  <span class="p">}</span>
</code></pre></div></div>

<h3 id="5-push-개발-방법-firebase-연동">5. PUSH 개발 방법 (FireBase 연동)</h3>

<p>우선 cordova fcm 플러그인을 설치합니다.</p>
<div class="language-terminal highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="go">  cordova plugin add cordova-plugin-fcm
</span></code></pre></div></div>

<p>그후 firebase 홈페이지에 접속하여 다음과 같이 진행합니다.</p>

<p><img src="\assets\built\images\ios\firebase-1.PNG" alt="img" />
  <img src="\assets\built\images\ios\firebase-2.PNG" alt="img" />
  <img src="\assets\built\images\ios\firebase-3.PNG" alt="img" />
  <!-- ![img](\assets\built\images\ios\2017-09-17_22-33-53-1024x531.png) -->
  여기서 주의해야 할 부분은, 번들 ID는 프로젝트에서 생성한 번들 ID와 같아야합니다.
  <img src="\assets\built\images\ios\firebase-4.PNG" alt="img" />
  GoogleService-info.plist 파일을 다운로드 받은 후 프로젝트 내부 폴더로 옮겨줍니다.
  <img src="\assets\built\images\ios\firebase-5.PNG" alt="img" />
  <!-- ![img](\assets\built\images\ios\2017-09-17_22-35-31.png) -->
  전부 설정 후html에서 토큰 설정후 사용할 수 있습니다. (사진과 다르게 현재 프로젝트에서는 resources 폴더 내부에 저장하여 사용중입니다.) 또한 Push 사용을 위해 인증서 업로드가 필요한데 애플 개발자 사이트에서 인증서를 받은후 FCM에 업로드 하여 등록 가능합니다.
  <img src="\assets\built\images\ios\1_DXho7RVN7BVRBHnFY2GQDQ.png" alt="img" />
  <img src="\assets\built\images\ios\1_4z5mGIVWrAKLlS071Gxafw.png" alt="img" />
  <img src="\assets\built\images\ios\dev-ios-45.png" alt="img" />
  그후 네이티브 소스에서 해당 소스를 통해 기본 설정을 할 수 있다고 되어있으나 현재 프로젝트에서는 cordova-fcm 플러그인을 통해 사용중이며 javascript에서 호출되어 사용되고 있습니다. (plugin/FCMPlugin.m)
  그 후 Cloud Messaging을 통해 메시지를 전송할 수 있습니다 (특정 토큰 선택 또는 전체 가능)
  <img src="\assets\built\images\ios\dev-ios-63.png" alt="img" /></p>

<h3 id="6-splash-및-app-icon-설정">6. Splash 및 App icon 설정</h3>

<p>Images.xcassets 폴더 내부의 
  LaunchImage.launchimage 폴더 내부의 이미지 파일들이 Splash 이미지이며, AppIcon.appiconset 폴더의 내부 파일들이 App icon 이미지입니다. 이미지 파일 수정시 Splash 및 App icon 설정이 가능합니다. 또는 xcode 실행시 Resource 폴더 내부의 images.xcassets 내부로 접근시 해당 이미지를 좀더 편하게 수정 할 수 있도록 그림과 같은 화면이 출력됩니다.
  <img src="\assets\built\images\ios\2019-06-21-5.35.08.png" alt="img" /></p>

<h3 id="7-앱에서-필요한-퍼미션-권한-허용-거부-출력">7. 앱에서 필요한 퍼미션 권한 허용, 거부 출력</h3>

<p><img src="\assets\built\images\ios\2019-06-21-5.37.12.png" alt="img" /></p>

<p>대부분 권한은 이곳에서 설정 가능하며, 오류 발생시 resources 폴더 내부의 plist 파일의 key와 type value가 정상적으로 입력되었는지 확인합니다.</p>

<p>퍼미션 종류는 다음 그림과 같습니다.</p>

<p><img src="\assets\built\images\ios\info.png" alt="img" /></p>

<p>해당 퍼미션을 info.plist에 추가하면 퍼미션 확인 메시지를 출력할수 있습니다</p>

<p><img src="\assets\built\images\ios\onfo2.png" alt="img" /></p>

<p>이상으로 iOS - Cordova를 활용한 BLE 프로젝트 생성 및 필요한 환경 설정 세팅에 대해 포스트 했습니다.</p>

                </div>
            </section>
            
                
                <a href='/tag/xcode/'>XCODE</a>,
                
            
                
                <a href='/tag/cordova/'>CORDOVA</a>,
                
            
                
                <a href='/tag/ble/'>BLE</a>,
                
            
                
                <a href='/tag/ios/'>IOS</a>
                
            
            <!-- Email subscribe form at the bottom of the page -->
            <!--
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to SimpleHan Lab</h3>
                    <p>Get the latest posts delivered right to your inbox</p>
                    <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
                </section>
            
            -->
            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="Simplehan" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/Simplehan">Simplehan</a></h4>
                                
                                    <p>We are amazing developers.</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/Simplehan">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            <!-- If you use Disqus comments, just uncomment this block.
            The only thing you need to change is "test-apkdzgmqhj" - which
            should be replaced with your own Disqus site-id. -->
            
                <section class="post-full-comments">
                    <div id="disqus_thread"></div>
                    <script>
                        var disqus_config = function () {
                            var this_page_url = 'https://simplehanlab.github.io/ios-use-cordova';
                            var this_page_identifier = '/ios-use-cordova';
                            var this_page_title = '코르도바 활용 블루투스 프로젝트 생성';
                        };
                        (function() {
                            var d = document, s = d.createElement('script');
                            s.src = 'https://simplehanlab.disqus.com/embed.js';
                            s.setAttribute('data-timestamp', +new Date());
                            (d.head || d.body).appendChild(s);
                        })();
                    </script>
                </section>
            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                    <article class="read-next-card"
                        
                            style="background-image: url(/assets/built/images/blog-cover1.png)"
                        
                    >
                        <header class="read-next-card-header">
                            <small class="read-next-card-header-sitetitle">&mdash; SimpleHan Lab &mdash;</small>
                            
                                <h3 class="read-next-card-header-title"><a href="/tag/xcode/">Xcode</a></h3>
                            
                        </header>
                        <div class="read-next-divider"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 14.5s2 3 5 3 5.5-2.463 5.5-5.5S21 6.5 18 6.5c-5 0-7 11-12 11C2.962 17.5.5 15.037.5 12S3 6.5 6 6.5s4.5 3.5 4.5 3.5"/></svg>
</div>
                        <div class="read-next-card-content">
                            <ul>
                                
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ios-swift2">[iOS] Swift 기본 (2)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ios-swift">[iOS] Swift 기본 (1)</a></li>
                                        
                                    
                                  
                                
                                  
                                    
                                        
                                        
                                            <li><a href="/ios-xcode">[iOS] Xcode 설치 프로젝트 생성</a></li>
                                        
                                    
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                                  
                                
                            </ul>
                        </div>
                        <footer class="read-next-card-footer">
                            <a href="/tag/xcode/">
                                
                                    See all 3 posts  →
                                
                            </a>
                        </footer>
                    </article>
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/react1">
                <div class="post-card-image" style="background-image: url(/assets/built/images/react/react-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/react1">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Javascript</span>
                            
                        
                            
                               <span class="post-card-tags">React</span>
                            
                        
                            
                                <span class="post-card-tags">Node</span>
                            
                        
                    

                    <h2 class="post-card-title">React 튜토리얼</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>1. 개요

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="Simplehan" />
                        
                        <span class="post-card-author">
                            <a href="/author/Simplehan/">Simplehan</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      1 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            
                

    <article class="post-card post-template">
        
            <a class="post-card-image-link" href="/ios-swift2">
                <div class="post-card-image" style="background-image: url(/assets/built/images/ios/ios-logo.png)"></div>
            </a>
        
        <div class="post-card-content">
            <a class="post-card-content-link" href="/ios-swift2">
                <header class="post-card-header">
                    
                        
                            
                               <span class="post-card-tags">Xcode</span>
                            
                        
                            
                               <span class="post-card-tags">Swift</span>
                            
                        
                            
                                <span class="post-card-tags">Ios</span>
                            
                        
                    

                    <h2 class="post-card-title">[iOS] Swift 기본 (2)</h2>
                </header>
                <section class="post-card-excerpt">
                    
                        <p>5. 클래스와 구조체

</p>
                    
                </section>
            </a>
            <footer class="post-card-meta">
                
                    
                        
                        <img class="author-profile-image" src="/assets/built/images/author-logo.jpg" alt="Simplehan" />
                        
                        <span class="post-card-author">
                            <a href="/author/Simplehan/">Simplehan</a>
                        </span>
                    
                
                <span class="reading-time">
                    
                    
                      11 min read
                    
                </span>
            </footer>
        </div>
    </article>

            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="https://simplehanlab.github.io/">
            
            <span>SimpleHan Lab</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">코르도바 활용 블루투스 프로젝트 생성</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=%EC%BD%94%EB%A5%B4%EB%8F%84%EB%B0%94+%ED%99%9C%EC%9A%A9+%EB%B8%94%EB%A3%A8%ED%88%AC%EC%8A%A4+%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8+%EC%83%9D%EC%84%B1&amp;url=https://simplehanlab.github.io/ios-use-cordova"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=https://simplehanlab.github.io/ios-use-cordova"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        
        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="https://simplehanlab.github.io/">SimpleHan Lab</a> &copy; 2021</section>
                <section class="poweredby">Proudly published with <a href="https://jekyllrb.com/">Jekyll</a> &
                    <a href="https://pages.github.com/" target="_blank" rel="noopener">GitHub Pages</a> using
                    <a href="https://github.com/jekyllt/jasper2" target="_blank" rel="noopener">Jasper2</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    
                    
                    <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                <h1 class="subscribe-overlay-title">Search SimpleHan Lab</h1>
                <p class="subscribe-overlay-description">
                    lunr.js를 이용한 posts 검색 </p>
                <span id="searchform" method="post" action="/subscribe/" class="">
    <input class="confirm" type="hidden" name="confirm"  />
    <input class="location" type="hidden" name="location"  />
    <input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" onkeyup="myFunc()"
               id="searchtext" type="text" name="searchtext"
               placeholder="Search..." />
    </div>
    <script type="text/javascript">
        function myFunc() {
            if(event.keyCode == 13) {
                var url = encodeURIComponent($("#searchtext").val());
                location.href = "/search.html?query=" + url;
            }
        }
    </script>
</span>
            </div>
        </div>
    


    <!-- highlight.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.10.0/components/prism-abap.min.js"></script>
    <script>$(document).ready(function() {
      $('pre code').each(function(i, block) {
        hljs.highlightBlock(block);
      });
    });</script>

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
        src="https://code.jquery.com/jquery-3.2.1.min.js"
        integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous">
    </script>
    <script type="text/javascript" src="/assets/js/jquery.fitvids.js"></script>
    <script type="text/javascript" src="https://demo.ghost.io/assets/js/jquery.fitvids.js?v=724281a32e"></script>


    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    


    <!-- Add Google Analytics  -->
    <!-- Google Analytics Tracking code -->
 <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-xxxxxxxx-x', 'auto');
  ga('send', 'pageview');

 </script>


    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
